# 톰캣까지 예외 가는경우 1 진짜 예외 2 response.message
- 보통 해결되지 못하고 WAS까지 갈 경우 500

# 흐름
- 에러가 발생하면 > 톰캣에 senderror > 에러 발생 페이지 호출

# 필터, 인터셉터 사용, AOP 보다 이럴땐 필터 사용

# WAS > 필터 > ~ 흐름 (마치 가드처럼)

# 필터 이후 서블릿이 들어옴, 필터는 체인으로 구성(필터는 서블릿 기술)

# 로그 인증체크를 수행할때 필터와 인터셉터 둘다 사용

# 필터는 등록 과정이 있음

# 지금 시점에서 response 필터 이후 error 로그 출력

# 유틸이 아닌 서블릿 필터 사용

# 필터에 화이트리스트 사용(*css 포함해야함)

# 화이트리스트 > 미인증 체크 > 로그인 리다이렉트 > 로그인 성공 후 이전 페이지로 가도록(리다이렉트 uri 포함)

# 예외 로깅은 가능하지만 톰캣까지 throw로 올려주는게 나음

* 보통 필터나 부가 기능의 최적화는 크게 필요 없음

# 필터는 한 번 갔다가 다시 거쳐서 들어옴(스택이 pop 되듯이)
- 1차 필터 시작(request) > 2차 필터 호출 및 시작 > 2차 필터 pop > 1차 필터 pop(response)

# 요청이 들어오면 서블릿 컨테이너에서
1 스레드 할당과 ServletRequest, ServletResponse를 할당
2 필터 작동
3 요청에 맞는 서블릿을 찾아 서블릿을 호출